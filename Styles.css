/* Nội dung cho tệp styles.css */
body {
    font-family: 'Inter', sans-serif;
    background-color: #f3f4f6; /* Màu nền xám rất nhạt cho body ở chế độ sáng */
}

.container {
    max-width: 1000px;
    margin: 20px auto;
    padding: 20px;
    background-color: white; /* Nền trắng cho container chính */
    border-radius: 12px;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
}

.section {
    margin-bottom: 30px;
    padding: 20px;
    border: 1px solid #e5e7eb; /* Viền xám nhạt cho các section */
    border-radius: 10px;
}

.section-header {
    font-size: 24px;
    font-weight: 600;
    color: #1f2937; /* Màu chữ xám đậm cho tiêu đề section */
    margin-bottom: 0;
    border-bottom: 2px solid #60a5fa; /* Viền xanh dương cho tiêu đề section */
    padding-bottom: 8px;
    display: flex;
    align-items: center;
    justify-content: space-between;
    cursor: pointer;
}

.section-header .header-text-icon {
    display: flex;
    align-items: center;
}

.section-header svg:not(.toggle-icon) {
    width: 24px;
    height: 24px;
    margin-right: 8px;
    color: #3b82f6; /* Màu xanh dương cho icon tiêu đề */
}

.collapsible-content {
    display: none;
    margin-top: 16px;
    padding-top: 16px;
    border-top: 1px solid #e5e7eb;
}

.collapsible-content.active {
    display: block;
}

.collapsible-list-content {
    max-height: 0;
    overflow: hidden;
    transition: max-height 0.3s ease-out;
    list-style: none;
    padding-left: 0;
}

.collapsible-list-content.active {
    /* maxHeight sẽ được set bởi JavaScript */
}

.collapsible-list-header {
    cursor: pointer;
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 5px 0;
}

.collapsible-list-header .toggle-icon {
    transition: transform 0.25s ease-in-out;
}

.collapsible-list-header.active .toggle-icon {
    transform: rotate(-180deg);
}

.toggle-icon {
    transition: transform 0.3s ease;
    width: 20px;
    height: 20px;
    color: #374151; /* Màu xám đậm cho icon gập/mở */
}

.section-header.active .toggle-icon {
    transform: rotate(180deg);
}

/* --- Kiểu cho Form Elements ở Chế độ Sáng (Mặc định) --- */
label {
    font-weight: 500;
    color: #1f2937;
    display: block;
    font-size: 14px;
    margin-bottom: 4px;
}

input[type="text"],
input[type="datetime-local"],
input[type="date"],
select,
input[type="number"] {
    width: 100%;
    padding: 10px;
    margin-bottom: 0;
    border: 1px solid #d1d5db;
    border-radius: 6px;
    box-sizing: border-box;
    transition: border-color 0.3s;
    background-color: #ffffff;
    color: #111827;
    font-size: 14px;
    height: 44px;
}

select {
    padding-right: 32px;
}

/* --- QUAN TRỌNG: Ghi đè màu cho select và label ở chế độ sáng của ứng dụng --- */
body:not(.dark-mode) select,
body:not(.dark-mode) input[type="text"],
body:not(.dark-mode) input[type="datetime-local"],
body:not(.dark-mode) input[type="date"],
body:not(.dark-mode) input[type="number"] {
    background-color: #ffffff !important;
    color: #111827 !important;
    border-color: #d1d5db !important;
}

body:not(.dark-mode) label {
    color: #1f2937 !important;
}
/* --------------------------------------------------------------------------- */

input::placeholder,
textarea::placeholder {
  color: #9ca3af;
}

input[type="text"]:focus,
input[type="datetime-local"]:focus,
input[type="date"]:focus,
select:focus,
input[type="number"]:focus {
    border-color: #3b82f6;
    outline: none;
    box-shadow: 0 0 0 2px rgba(59, 130, 246, 0.2);
}

.radio-group {
    margin-top: 5px;
    margin-bottom: 0;
}

.radio-group label {
    margin-right: 15px;
    cursor: pointer;
    display: inline-block;
    margin-bottom: 0;
    color: #1f2937;
    font-weight: normal;
    font-size: 14px;
}

.radio-group input[type="radio"] {
    margin-right: 5px;
    accent-color: #3b82f6;
}

.amount-currency-group {
    display: flex;
    align-items: center;
    gap: 10px;
}

.amount-currency-group input[type="text"] {
    flex-grow: 1;
    margin-bottom: 0;
}

.amount-currency-group select {
    width: auto;
    margin-bottom: 0;
    padding-left: 8px;
    padding-right: 32px;
}

#add-triple-zero-button {
    margin-top: 8px;
}

button {
    padding: 10px 20px;
    border: none;
    border-radius: 6px;
    cursor: pointer;
    font-weight: 500;
    transition: background-color 0.3s, box-shadow 0.3s;
    display: inline-flex;
    align-items: center;
    justify-content: center;
}

button svg {
    width: 20px;
    height: 20px;
    margin-right: 6px;
}

.btn-primary {
    background-color: #3b82f6;
    color: white;
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
}

.btn-primary:hover {
    background-color: #2563eb;
    box-shadow: 0 4px 8px rgba(0,0,0,0.15);
}

.btn-secondary {
    background-color: #e5e7eb;
    color: #374151;
    border: 1px solid #d1d5db;
}

.btn-secondary:hover {
    background-color: #d1d5db;
}

.btn-edit {
    background-color: #f59e0b;
    color: white;
    padding: 4px 8px;
    font-size: 13px;
    margin-right: 4px;
}

.btn-edit svg {
    width: 14px;
    height: 14px;
    margin-right: 2px;
}

.btn-edit:hover {
    background-color: #d97706;
}

.btn-delete {
    background-color: #ef4444;
    color: white;
    padding: 4px 8px;
    font-size: 13px;
}

.btn-delete svg {
    width: 14px;
    height: 14px;
    margin-right: 2px;
}

.btn-delete:hover {
    background-color: #dc2626;
}

table {
    width: 100%;
    border-collapse: collapse;
    margin-top: 15px;
}

th,
td {
    border: 1px solid #e5e7eb; /* Màu viền mặc định cho tất cả các bảng */
    padding: 12px;
    text-align: left;
    font-size: 14px;
}

th:last-child,
td:last-child {
    width: 130px;
    text-align: center;
}

th {
    background-color: #f9fafb;
    font-weight: 600;
    color: #1f2937;
}

/* Styles for Thống Kê Chi Tiết table labels in light mode */
body:not(.dark-mode) .statistics-table-section #detailed-stats-tbody td:first-child {
    color: #1f2937 !important;
    font-weight: 500;
}

/* Styles for Thống Kê Chi Tiết table plain values (that use text-gray-800) in light mode */
body:not(.dark-mode) .statistics-table-section #detailed-stats-tbody td.text-gray-800 {
    color: #000000 !important; /* Đổi thành màu đen tuyền cho dễ đọc hơn */
}

/* Styles for Thống Kê Chi Tiết table cell borders in light mode */
body:not(.dark-mode) .statistics-table-section #detailed-stats-tbody td {
    border-color: #000000 !important; /* Màu đen cho tất cả các cạnh của đường kẻ ô */
}


.summary-item {
    display: flex;
    justify-content: space-between;
    padding: 8px 0;
    border-bottom: 1px dashed #e5e7eb;
    font-size: 15px;
}

.summary-item:last-child {
    border-bottom: none;
}

.summary-item span:first-child {
    font-weight: 500;
    color: #374151;
}

.summary-item span:last-child {
    font-weight: 600;
}

.account-balance-list {
    margin-top: 20px;
    padding-top: 15px;
    border-top: 1px solid #e5e7eb;
}

.account-balance-list h3 {
    font-size: 18px;
    font-weight: 600;
    color: #4b5563;
    margin-bottom: 10px;
}

.text-green-600 { color: #059669; }
.text-red-600 { color: #dc2626; }
.text-blue-600 { color: #2563eb; }
.text-purple-600 { color: #7c3aed; }
.text-black-600 { color: #ffffff; }

.filter-container {
    display: flex;
    flex-wrap: wrap;
    gap: 15px;
    align-items: center;
    margin-bottom: 20px;
}

.filter-container label {
    margin-bottom: 0;
    margin-right: 5px;
    color: #1f2937;
    font-weight: normal;
    font-size: 14px;
}

.filter-container input[type="number"],
.filter-container select {
    margin-bottom: 0;
    flex-grow: 1;
    font-size: 14px;
    height: 44px;
}

#message-box {
    padding: 15px;
    margin-bottom: 20px;
    border-radius: 8px;
    font-weight: 500;
    text-align: center;
}

.message-success { background-color: #d1fae5; color: #065f46; }
.message-error { background-color: #fee2e2; color: #991b1b; }

.chart-container {
    position: relative;
    height: 300px;
    width: 100%;
    max-width: 600px;
    margin: 20px auto;
}

.expense-breakdown-section .chart-container {
    max-width: 350px;
    height: 350px;
}

.expense-category-list {
    margin-top: 20px;
}

.expense-category-item {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 8px 0;
    font-size: 14px;
    border-bottom: 1px solid #f3f4f6;
}

.expense-category-item:last-child {
    border-bottom: none;
}

.category-color-swatch {
    width: 12px;
    height: 12px;
    border-radius: 3px;
    margin-right: 8px;
    display: inline-block;
}

.category-name {
    flex-grow: 1;
}

.category-percentage {
    width: 50px;
    text-align: right;
    color: #6b7280;
    margin-left: 10px;
}

.category-amount {
    width: 100px;
    text-align: right;
    font-weight: 500;
    margin-left: 10px;
}

.comparison-section .grid > div {
    background-color: #f9fafb;
    padding: 15px;
    border-radius: 8px;
}

.comparison-section h3 {
    border-bottom: 1px solid #d1d5db;
    padding-bottom: 5px;
    margin-top: 0;
}

.table-actions {
    display: flex;
    justify-content: flex-end;
    margin-bottom: 20px;
}

.data-io-section .button-group {
    display: flex;
    gap: 20px;
    flex-wrap: wrap;
}

.form-field-transfer { display: none; }
.form-field-normal { display: block; }

form[data-transaction-mode="Transfer"] .form-field-transfer { display: block; }
form[data-transaction-mode="Transfer"] .form-field-normal { display: none; }

.category-customization-section .category-management {
    display: grid;
    grid-template-columns: 1fr;
    gap: 32px;
}

@media (min-width: 768px) {
    .category-customization-section .category-management {
        grid-template-columns: repeat(2, 1fr);
        gap: 24px;
    }
}

@media (min-width: 1024px) {
    .category-customization-section .category-management {
        grid-template-columns: repeat(3, 1fr);
    }
}

.category-customization-section .category-list {
    list-style: none;
    padding: 0;
}

.category-customization-section .category-list li {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 8px 0;
    border-bottom: 1px solid #eee;
}

.category-customization-section .category-list li:last-child {
    border-bottom: none;
}

.category-customization-section input[type="text"] {
    margin-bottom: 8px;
}

.category-customization-section .btn-add-category {
    width: 100%;
    margin-top: 8px;
}

.category-customization-section h3 {
    font-size: 18px;
    font-weight: 600;
    color: #4b5563;
    margin-bottom: 12px;
    padding-bottom: 6px;
    border-bottom: 1px solid #e5e7eb;
}

/* CSS CHO DARK MODE TOGGLE SWITCH */
.theme-switch-wrapper {
    position: fixed;
    top: 20px;
    left: 20px;
    z-index: 1000;
}

.theme-switch {
    display: inline-block;
    height: 26px;
    width: 50px;
    position: relative;
}

.theme-switch input {
    opacity: 0;
    width: 0;
    height: 0;
}

.slider {
    position: absolute;
    cursor: pointer;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-color: #ccc;
    transition: .4s;
    border-radius: 26px;
    display: flex;
    align-items: center;
}

.slider:before {
    position: absolute;
    content: "";
    height: 18px;
    width: 18px;
    left: 4px;
    bottom: 4px;
    background-color: white;
    transition: .4s;
    border-radius: 50%;
}

input:checked+.slider {
    background-color: #4A5568;
}

input:checked+.slider:before {
    transform: translateX(24px);
}

.slider .sun-icon,
.slider .moon-icon {
    position: absolute;
    width: 16px;
    height: 16px;
    transition: opacity 0.3s ease, visibility 0.3s ease;
}

.slider .sun-icon {
    left: 5px;
    opacity: 1;
    visibility: visible;
    color: #f59e0b;
}

.slider .moon-icon {
    right: 5px;
    opacity: 0;
    visibility: hidden;
    color: #e2e8f0;
}

input:checked+.slider .sun-icon {
    opacity: 0;
    visibility: hidden;
}

input:checked+.slider .moon-icon {
    opacity: 1;
    visibility: visible;
}

/* DARK MODE STYLES */
body.dark-mode {
    background-color: #111827;
    color: #d1d5db;
}

body.dark-mode .container {
    background-color: #1f2937;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.5);
}

body.dark-mode .section {
    background-color: #374151;
    border-color: #4b5563;
}

body.dark-mode .section-header {
    color: #f3f4f6;
    border-bottom-color: #4b5568;
}

body.dark-mode .section-header svg:not(.toggle-icon),
body.dark-mode svg[style*="color: #3b82f6"] {
    color: #60a5fa !important;
}

body.dark-mode .toggle-icon {
    color: #9ca3af;
}

body.dark-mode label {
    color: #d1d5db !important;
}

body.dark-mode input[type="text"],
body.dark-mode input[type="datetime-local"],
body.dark-mode input[type="date"],
body.dark-mode select,
body.dark-mode input[type="number"] {
    background-color: #1f2937 !important;
    color: #f3f4f6 !important;
    border-color: #4b5563 !important;
}

body.dark-mode input[type="text"]:focus,
body.dark-mode input[type="datetime-local"]:focus,
body.dark-mode input[type="date"]:focus,
body.dark-mode select:focus,
body.dark-mode input[type="number"]:focus {
    border-color: #60a5fa !important;
    box-shadow: 0 0 0 2px rgba(96, 165, 250, 0.2) !important;
}

body.dark-mode input::placeholder { color: #6b7280; }
body.dark-mode input:-ms-input-placeholder { color: #6b7280; }
body.dark-mode input::-ms-input-placeholder { color: #6b7280; }
body.dark-mode textarea::placeholder { color: #6b7280; }

body.dark-mode .radio-group label {
    color: #d1d5db;
}

body.dark-mode .radio-group input[type="radio"] {
    accent-color: #60a5fa;
}

body.dark-mode th {
    background-color: #374151;
    color: #f3f4f6;
}

body.dark-mode td,
body.dark-mode th {
    border-color: #4b5563; /* Viền mặc định cho bảng ở dark mode */
}

body.dark-mode .summary-item span:first-child { color: #d1d5db; }
body.dark-mode .summary-item { border-bottom-color: #4b5563; }

body.dark-mode .account-balance-list h3 { color: #e5e7eb; }
body.dark-mode .account-balance-list { border-top-color: #4b5563; }

body.dark-mode .text-gray-600 { color: #9ca3af !important; }
body.dark-mode .text-gray-500 { color: #6b7280 !important; }

body.dark-mode .text-green-600 { color: #34d399 !important; }
body.dark-mode .text-red-600 { color: #f87171 !important; }
body.dark-mode .text-blue-600 { color: #60a5fa !important; }
body.dark-mode .text-purple-600 { color: #a78bfa !important; }
body.dark-mode .text-white-600 { color: #a78bfa !important; }

body.dark-mode .btn-primary {
    background-color: #2563eb;
    color: #ffffff;
}
body.dark-mode .btn-primary:hover {
    background-color: #1d4ed8;
}

body.dark-mode .btn-secondary {
    background-color: #4b5563;
    color: #e5e7eb;
    border-color: #6b7280;
}
body.dark-mode .btn-secondary:hover {
    background-color: #6b7280;
}

#darkModeToggle {
    border: 1px solid #d1d5db;
    background-color: #f9fafb;
    color: #374151;
}
body.dark-mode #darkModeToggle {
    background-color: #374151;
    color: #d1d5db;
    border-color: #4b5563;
}
body.dark-mode #darkModeToggle:hover { background-color: #4b5563; }

body.dark-mode .category-customization-section h3 {
    color: #e5e7eb;
    border-bottom-color: #4b5563;
}

body.dark-mode .category-customization-section .category-list li {
    border-bottom-color: #374151;
}

body.dark-mode .expense-category-item {
    border-bottom-color: #374151;
}

body.dark-mode .category-name { color: #d1d5db; }
body.dark-mode .category-percentage { color: #9ca3af; }
body.dark-mode .category-amount { color: #f3f4f6; }

body.dark-mode .message-success {
    background-color: #064e3b;
    color: #a7f3d0;
    border: 1px solid #059669;
}
body.dark-mode .message-error {
    background-color: #7f1d1d;
    color: #fecaca;
    border: 1px solid #ef4444;
}

/* ===== Bắt đầu CSS cho Bàn phím số ảo ===== */
#virtualNumericKeyboard {
    /* Bạn có thể thêm style cho container bàn phím ở đây nếu cần */
    /* Ví dụ:
    padding: 8px;
    background-color: #E5E7EB; 
    */
}

.dark #virtualNumericKeyboard {
    /* Style cho container bàn phím ở dark mode */
    /* Ví dụ:
    background-color: #1F2937;
    */
}

.virtual-key {
    padding-top: 12px;
    padding-bottom: 12px;
    font-size: 22px;
    font-weight: 500;
    text-align: center;
    border: 1px solid #D1D5DB;  /* Tailwind gray-300 */
    background-color: #F9FAFB; /* Tailwind gray-50 */
    color: #1F2937;           /* Tailwind gray-800 */
    border-radius: 8px;
    cursor: pointer;
    transition: background-color 0.1s ease-in-out, box-shadow 0.1s ease-in-out;
    box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px -1px rgba(0, 0, 0, 0.1);

    /* --- CẬP NHẬT ĐỂ SỬA LỖI ZOOM VÀ CẢI THIỆN TRẢI NGHIỆM CHẠM --- */
    touch-action: manipulation; /* Quan trọng: Ngăn chặn double-tap to zoom */
    -webkit-tap-highlight-color: rgba(0, 0, 0, 0); /* Loại bỏ màu highlight khi chạm trên iOS/WebKit */
    
    /* Đảm bảo user-select có đủ tiền tố trình duyệt */
    user-select: none;         /* Chuẩn */
    -webkit-user-select: none; /* Safari, Chrome, Opera */
    -moz-user-select: none;    /* Firefox */
    -ms-user-select: none;     /* Internet Explorer/Edge */
    /* --- KẾT THÚC CẬP NHẬT --- */
}

.virtual-key:hover {
    background-color: #F3F4F6; /* Tailwind gray-100 */
}

.virtual-key:active {
    background-color: #E5E7EB; /* Tailwind gray-200 */
    box-shadow: inset 0 2px 4px 0 rgba(0, 0, 0, 0.06);
}

.dark .virtual-key {
    border-color: #4B5563;     /* Tailwind dark:border-gray-600 (gray-600) */
    background-color: #374151; /* Tailwind dark:bg-gray-700 (gray-700) */
    color: #E5E7EB;           /* Tailwind dark:text-gray-200 (gray-200) */
    box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.3), 0 1px 2px -1px rgba(0, 0, 0, 0.2);
    /* touch-action và -webkit-tap-highlight-color đã được kế thừa từ .virtual-key, 
       không cần thêm lại ở đây trừ khi bạn muốn ghi đè. */
}

.dark .virtual-key:hover {
    background-color: #4B5563; /* Tailwind dark:bg-gray-600 (gray-600) */
}

.dark .virtual-key:active {
    background-color: #1F2937; /* Tailwind dark:bg-gray-800 (gray-800) */
    box-shadow: inset 0 2px 4px 0 rgba(0, 0, 0, 0.25);
}

.virtual-key.key-action {
    background-color: #E5E7EB;
    font-weight: normal;
}
.dark .virtual-key.key-action {
    background-color: #4B5563;
    color: #9CA3AF;
}
.virtual-key.key-action:hover {
    background-color: #D1D5DB;
}
.dark .virtual-key.key-action:hover {
    background-color: #374151;
}

.virtual-key.key-done {
    background-color: #3B82F6; /* Tailwind blue-500 */
    color: white;
    font-weight: 600;
}
.dark .virtual-key.key-done {
    background-color: #2563EB; /* Tailwind blue-600 */
}
.virtual-key.key-done:hover {
    background-color: #2563EB; /* Tailwind blue-600 */
}
.dark .virtual-key.key-done:hover {
    background-color: #1D4ED8; /* Tailwind blue-700 */
}

#virtualNumericKeyboard .grid > button.virtual-key {
    height: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    width: 100%;
}
/* ===== bảng đối soát===== */
/* ===== PHẦN ĐỐI SOÁT SỐ DƯ TÀI KHOẢN - CẬP NHẬT ===== */
#reconciliation-section #reconciliation-account-list {
    /* Có thể thêm style cho container nếu cần, ví dụ: */
    /* margin-top: 1rem; */
}

/* --- Mỗi dòng/mục đối soát cho một tài khoản --- */
#reconciliation-section .reconcile-item {
    display: flex;
    flex-direction: column; /* Stack theo chiều dọc trên mobile */
    gap: 0.75rem; /* 12px */
    padding: 1rem; /* 16px */
    margin-bottom: 1rem; /* 16px */
    border-radius: 0.5rem; /* 8px */
    transition: background-color 0.25s ease, border-color 0.25s ease, box-shadow 0.25s ease;

    /* Light Mode Defaults */
    background-color: #f9fafb; /* Tailwind gray-50 */
    border: 1px solid #e5e7eb; /* Tailwind gray-200 */
    box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.07), 0 1px 2px -1px rgba(0, 0, 0, 0.05);
}

@media (min-width: 768px) { /* md breakpoint */
    #reconciliation-section .reconcile-item {
        flex-direction: row;
        align-items: center;
        justify-content: space-between;
        gap: 1rem; /* 16px */
    }
}

#reconciliation-section .reconcile-item:hover {
    /* Light Mode Hover */
    background-color: #f3f4f6; /* Tailwind gray-100 */
    border-color: #d1d5db; /* Tailwind gray-300 */
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1);
}

/* --- Phần thông tin chính của mục đối soát (tên TK, số dư app) --- */
#reconciliation-section .reconcile-item__main-info {
    display: flex;
    flex-direction: column;
    gap: 0.5rem; /* 8px */
    flex-grow: 1; /* Cho phép nó chiếm không gian */
}

@media (min-width: 640px) { /* sm breakpoint */
    #reconciliation-section .reconcile-item__main-info {
        flex-direction: row;
        align-items: center;
        gap: 0.75rem; /* 12px */
    }
}

/* --- Tên tài khoản --- */
#reconciliation-section .reconcile-item__title {
    font-size: 1.05rem; /* ~17px */
    font-weight: 600; /* semibold */
    min-width: 120px; /* Giữ độ rộng tối thiểu */
    flex-shrink: 0; /* Không bị co lại */

    /* Light Mode */
    color: #1d4ed8; /* Tailwind blue-700 */
}

/* --- Khối hiển thị "Số dư (ứng dụng)" --- */
#reconciliation-section .reconcile-item__balance-app {
    display: inline-flex;
    align-items: center;
    gap: 0.375rem; /* 6px */
    padding: 0.375rem 0.75rem; /* 6px 12px */
    border-radius: 0.375rem; /* 6px */
    font-size: 0.9rem; /* ~14.5px */

    /* Light Mode */
    background-color: #e0e7ff; /* Tailwind indigo-100 (màu nền nhẹ nhàng hơn) */
    color: #4338ca; /* Tailwind indigo-700 (màu chữ cho nhãn) */
}

#reconciliation-section .reconcile-item__balance-app-value {
    font-weight: 700; /* bold */
    font-variant-numeric: tabular-nums;

    /* Light Mode */
    color: #166534; /* Tailwind green-700 (màu cho giá trị số dư) */
}

/* --- Phần nhập liệu và nút --- */
#reconciliation-section .reconcile-item__actions {
    display: flex;
    align-items: center;
    gap: 0.5rem; /* 8px */
    flex-shrink: 0; /* Không bị co lại */
}

/* --- Input "Số dư thực tế" --- */
#reconciliation-section .reconcile-item__actual-balance-input {
    width: 140px;
    padding: 0.625rem; /* 10px */
    font-size: 0.9rem;
    text-align: right;
    border-radius: 0.375rem; /* 6px */
    box-sizing: border-box;
    transition: border-color 0.2s ease, box-shadow 0.2s ease;

    /* Light Mode */
    background-color: #ffffff;
    color: #111827; /* Tailwind gray-900 */
    border: 1px solid #d1d5db; /* Tailwind gray-300 */
}

#reconciliation-section .reconcile-item__actual-balance-input::placeholder {
    /* Light Mode */
    color: #9ca3af; /* Tailwind gray-400 */
}

#reconciliation-section .reconcile-item__actual-balance-input:focus {
    outline: none;
    /* Light Mode Focus */
    border-color: #2563eb; /* Tailwind blue-600 */
    box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.2); /* Ring color */
}

/* --- Nút Đối soát --- */
#reconciliation-section .reconcile-item__button {
    /* Các style cho nút đã được định nghĩa chung bởi .btn-primary */
    /* Có thể thêm style cụ thể ở đây nếu cần, ví dụ: */
    padding-top: 0.625rem;
    padding-bottom: 0.625rem;
    min-width: 90px;
}

/* --- Container cho kết quả đối soát --- */
#reconciliation-section .reconcile-item__result-container {
    width: 100%;
    margin-top: 0.75rem; /* 12px */
    padding-top: 0.75rem;
    font-size: 0.9rem;
    animation: fadeInResult 0.3s ease-out;

    /* Light Mode */
    border-top: 1px dashed #d1d5db; /* Tailwind gray-300 */
    color: #1f2937; /* Tailwind gray-800 */
}

#reconciliation-section .reconcile-item__result-row {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 0.375rem; /* 6px */
}

#reconciliation-section .reconcile-item__result-label {
    font-weight: 500; /* medium */
    margin-right: 0.5rem; /* 8px */
    flex-shrink: 0;

    /* Light Mode */
    color: #4b5563; /* Tailwind gray-600 */
}

#reconciliation-section .reconcile-item__result-value {
    font-weight: 600; /* semibold */
    text-align: right;
    font-variant-numeric: tabular-nums;
}

/* Màu cho các giá trị kết quả - Light Mode */
#reconciliation-section .reconcile-item__result-value--old { color: #2563eb; /* Tailwind blue-600 */ }
#reconciliation-section .reconcile-item__result-value--new { color: #c2410c; /* Tailwind orange-600 (thay vì đỏ, cho khác biệt) */ }
#reconciliation-section .reconcile-item__result-value--diff-up { color: #16a34a; /* Tailwind green-600 */ }
#reconciliation-section .reconcile-item__result-value--diff-down { color: #dc2626; /* Tailwind red-600 */ }
#reconciliation-section .reconcile-item__result-value--diff-zero { color: #16a34a; /* Tailwind green-600 (khớp là tốt) */ }


#reconciliation-section .reconcile-item__suggestion {
    margin-top: 0.5rem; /* 8px */
    padding: 0.625rem 0.875rem; /* 10px 14px */
    border-radius: 0.375rem;
    font-size: 0.875rem; /* 14px */
    font-weight: 500;
    display: flex;
    align-items: center;
    justify-content: space-between; /* Để nút điều chỉnh tách biệt */
    flex-wrap: wrap;
    gap: 0.5rem;

    /* Light Mode */
    background-color: #fefce8; /* Tailwind yellow-50 */
    color: #ca8a04; /* Tailwind yellow-600 */
    border: 1px solid #facc15; /* Tailwind yellow-400 */
}
#reconciliation-section .reconcile-item__suggestion button {
    /* Style cho nút trong suggestion (nếu bạn có nút riêng) */
    /* Ví dụ: sử dụng .btn-secondary-outline hoặc một style mới */
    font-size: 0.8rem;
    padding: 0.25rem 0.5rem;
}


/* ========================================== */
/* == DARK MODE CHO PHẦN ĐỐI SOÁT == */
/* ========================================== */

body.dark-mode #reconciliation-section .reconcile-item {
    background-color: #1f2937; /* Tailwind gray-800 */
    border-color: #374151; /* Tailwind gray-700 */
    box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.2), 0 1px 2px -1px rgba(0, 0, 0, 0.15);
}

body.dark-mode #reconciliation-section .reconcile-item:hover {
    background-color: #273344; /* Một màu tối hơn gray-800 một chút */
    border-color: #4b5563; /* Tailwind gray-600 */
}

body.dark-mode #reconciliation-section .reconcile-item__title {
    color: #93c5fd; /* Tailwind blue-300 */
}

body.dark-mode #reconciliation-section .reconcile-item__balance-app {
    background-color: #3730a3; /* Tailwind indigo-700 (tối hơn) */
    color: #c7d2fe; /* Tailwind indigo-200 */
}

body.dark-mode #reconciliation-section .reconcile-item__balance-app-value {
    color: #86efac; /* Tailwind green-300 */
}

body.dark-mode #reconciliation-section .reconcile-item__actual-balance-input {
    background-color: #111827; /* Tailwind gray-900 */
    color: #e5e7eb; /* Tailwind gray-200 */
    border-color: #4b5563; /* Tailwind gray-600 */
}

body.dark-mode #reconciliation-section .reconcile-item__actual-balance-input::placeholder {
    color: #6b7280; /* Tailwind gray-500 */
}

body.dark-mode #reconciliation-section .reconcile-item__actual-balance-input:focus {
    border-color: #60a5fa; /* Tailwind blue-400 */
    box-shadow: 0 0 0 3px rgba(96, 165, 250, 0.25);
}

body.dark-mode #reconciliation-section .reconcile-item__result-container {
    border-top-color: #4b5563;
    color: #d1d5db; /* Tailwind gray-300 */
}

body.dark-mode #reconciliation-section .reconcile-item__result-label {
    color: #9ca3af; /* Tailwind gray-400 */
}

/* Màu cho các giá trị kết quả - Dark Mode */
body.dark-mode #reconciliation-section .reconcile-item__result-value--old { color: #60a5fa; /* Tailwind blue-400 */ }
body.dark-mode #reconciliation-section .reconcile-item__result-value--new { color: #fb923c; /* Tailwind orange-400 */ }
body.dark-mode #reconciliation-section .reconcile-item__result-value--diff-up { color: #4ade80; /* Tailwind green-400 */ }
body.dark-mode #reconciliation-section .reconcile-item__result-value--diff-down { color: #f87171; /* Tailwind red-400 */ }
body.dark-mode #reconciliation-section .reconcile-item__result-value--diff-zero { color: #4ade80; /* Tailwind green-400 */ }


body.dark-mode #reconciliation-section .reconcile-item__suggestion {
    background-color: #3f3104; /* Nền tối hơn cho suggestion */
    color: #fef08a; /* Tailwind yellow-200 */
    border-color: #a16207; /* Tailwind yellow-600 */
}
.input-actual-balance {
    width: 120px;
    padding: 6px 8px;
    border: 1px solid #d1d5db;
    border-radius: 4px;
    font-size: 14px;
}

/* Nội dung cho tệp styles.css */
body {
    font-family: 'Inter', sans-serif;
    background-color: #f3f4f6; /* Tailwind gray-100 */
    color: #1f2937; /* Tailwind text-gray-800 - Màu chữ mặc định cho body light mode */
    transition: background-color 0.3s ease, color 0.3s ease; /* Thêm transition cho mượt mà */
}

.container {
    max-width: 1000px;
    margin: 20px auto;
    padding: 20px;
    background-color: white;
    border-radius: 12px;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05); /* Giảm nhẹ shadow một chút */
    transition: background-color 0.3s ease, box-shadow 0.3s ease;
}

.section {
    margin-bottom: 30px;
    padding: 20px;
    border: 1px solid #e5e7eb; /* Tailwind gray-200 */
    border-radius: 10px;
    background-color: #ffffff; /* Nền trắng cho section ở light mode */
    transition: background-color 0.3s ease, border-color 0.3s ease;
}

.section-header {
    font-size: 20px; /* Giảm nhẹ font size cho section header */
    font-weight: 600; /* semibold */
    color: #1f2937;   /* Tailwind gray-800 */
    margin-bottom: 0; /* Bỏ margin-bottom vì sẽ dùng padding-bottom */
    border-bottom: 1px solid #e5e7eb; /* Đường kẻ mỏng hơn, màu gray-200 */
    padding-bottom: 12px; /* Tăng padding bottom */
    display: flex;
    align-items: center;
    justify-content: space-between;
    cursor: pointer;
    transition: color 0.3s ease, border-bottom-color 0.3s ease;
}

.section-header .header-text-icon {
    display: flex;
    align-items: center;
}

.section-header svg:not(.toggle-icon) { /* SVG icon trong header (không phải icon toggle) */
    width: 22px; /* Điều chỉnh kích thước icon */
    height: 22px;
    margin-right: 10px;
    color: #3b82f6; /* Tailwind blue-500 */
    transition: color 0.3s ease;
}

/* --- Collapsible Content --- */
.collapsible-content {
    /* display: none; */ /* Sẽ được xử lý bằng maxHeight nếu dùng animation */
    max-height: 0;
    overflow: hidden;
    transition: max-height 0.35s ease-in-out, margin-top 0.35s ease-in-out, padding-top 0.35s ease-in-out, border-top 0.35s ease-in-out;
    /* Các thuộc tính này sẽ được áp dụng khi có class 'active' */
    margin-top: 0;
    padding-top: 0;
    border-top: none;
}

.collapsible-content.active {
    /* display: block; */ /* Không cần nếu dùng maxHeight */
    max-height: 2000px; /* Một giá trị đủ lớn để chứa nội dung, JS sẽ set chính xác hơn */
    margin-top: 16px;
    padding-top: 16px;
    border-top: 1px solid #e5e7eb; /* Tailwind gray-200 */
}

.collapsible-list-content {
    max-height: 0;
    overflow: hidden;
    transition: max-height 0.3s ease-out;
    list-style: none;
    padding-left: 0;
    /* margin-top: 5px; */ /* Tùy chọn */
}

.collapsible-list-content.active {
    /* maxHeight sẽ được set bởi JavaScript */
    padding-top: 8px; /* Thêm padding khi mở nếu cần */
    padding-bottom: 8px;
}

.collapsible-list-header {
    cursor: pointer;
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 8px 0; /* Tăng padding cho dễ click hơn */
    /* border-bottom: 1px solid #f3f4f6; */ /* Đường kẻ phân cách nhẹ nếu muốn */
}

.collapsible-list-header .toggle-icon {
    transition: transform 0.25s ease-in-out;
}

.collapsible-list-header.active .toggle-icon {
    transform: rotate(-180deg);
}

.toggle-icon {
    transition: transform 0.3s ease;
    width: 20px;
    height: 20px;
    color: #4b5563; /* Tailwind gray-600 */
}

.section-header.active .toggle-icon {
    transform: rotate(180deg); /* Hoặc -180deg tùy vào icon ban đầu của bạn */
}

/* --- Form Elements --- */
label {
    font-weight: 500; /* medium */
    color: #374151;   /* Tailwind gray-700 */
    display: block;
    margin-bottom: 4px; /* Tailwind mb-1 */
    font-size: 14px; /* Tailwind text-sm */
    transition: color 0.3s ease;
}

/* Xóa bỏ style chung cho input/select nếu bạn đang dùng class Tailwind để style chúng */
/* Nếu bạn muốn giữ, hãy đảm bảo nó không xung đột với class Tailwind */
/*
input[type="text"],
input[type="datetime-local"],
input[type="date"],
select,
input[type="number"] {
    width: 100%;
    padding: 10px;
    margin-bottom: 15px;
    border: 1px solid #d1d5db;
    border-radius: 6px;
    box-sizing: border-box;
    transition: border-color 0.3s;
    background-color: #ffffff;
    color: #1f2937;
}

input[type="text"]:focus,
input[type="datetime-local"]:focus,
input[type="date"]:focus,
select:focus,
input[type="number"]:focus {
    border-color: #3b82f6;
    outline: none;
    box-shadow: 0 0 0 2px rgba(59, 130, 246, 0.4);
}
*/

.radio-group {
    /* margin-top: 5px; */ /* Đã có mt-1 trên HTML */
    /* margin-bottom: 15px; */ /* Sẽ dùng gap-y trên form grid */
    /* Các class flex, space-x, py đã được thêm vào HTML */
}

.radio-group label { /* Label của từng radio button */
    /* margin-right: 15px; */ /* Đã có space-x trên div cha */
    cursor: pointer;
    display: inline-flex; /* Để căn chỉnh tốt hơn với input radio */
    align-items: center;
    margin-bottom: 0;
    font-weight: normal; /* Chữ thường không cần đậm bằng label chính */
}

.radio-group input[type="radio"] {
    margin-right: 6px; /* Tailwind mr-1.5 hoặc mr-2 */
    /* accent-color: #3b82f6; */ /* Tailwind đã xử lý với class text-indigo-600 */
}

/* .amount-currency-group đã được style bằng Tailwind flex items-stretch */

/* --- Buttons --- */
button, .btn-primary, .btn-secondary, .btn-edit, .btn-delete { /* Style cơ bản cho tất cả button */
    padding: 8px 16px; /* Điều chỉnh padding chung, ví dụ py-2 px-4 của Tailwind */
    border: none;
    border-radius: 6px; /* rounded-md */
    cursor: pointer;
    font-weight: 500; /* medium */
    transition: background-color 0.2s ease-in-out, border-color 0.2s ease-in-out, color 0.2s ease-in-out;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    text-decoration: none; /* Cho các nút trông giống link */
    line-height: 1.5; /* Đảm bảo chiều cao dòng ổn định */
}

button svg {
    width: 18px; /* Giảm nhẹ kích thước SVG trong button */
    height: 18px;
    margin-right: 6px;
}

.btn-primary {
    background-color: #3b82f6; /* Tailwind blue-500 */
    color: white;
}
.btn-primary:hover {
    background-color: #2563eb; /* Tailwind blue-600 */
}

.btn-secondary {
    background-color: #6b7280; /* Tailwind gray-500 */
    color: white;
}
.btn-secondary:hover {
    background-color: #4b5563; /* Tailwind gray-600 */
}

/* ... (Các style .btn-edit, .btn-delete bạn có thể giữ nguyên hoặc điều chỉnh padding/font-size nếu muốn) ... */

/* --- Table --- */
table {
    width: 100%;
    border-collapse: collapse;
    margin-top: 16px; /* Tailwind mt-4 */
}

th, td {
    border: 1px solid #e5e7eb; /* Tailwind gray-200 */
    padding: 10px 12px; /* Điều chỉnh padding */
    text-align: left;
    font-size: 14px; /* text-sm */
    transition: border-color 0.3s ease;
}

th:last-child, td:last-child { /* Cột thao tác */
    width: auto; /* Để tự động co giãn tốt hơn, hoặc đặt một min-width */
    min-width: 110px;
    text-align: center;
}

th {
    background-color: #f9fafb; /* Tailwind gray-50 */
    font-weight: 600; /* semibold */
    color: #1f2937; /* Tailwind gray-800 */
    transition: background-color 0.3s ease, color 0.3s ease;
}

/* ... (Các style .summary-item, .account-balance-list, text-colors, filter-container, message-box, chart-container, v.v... của bạn) ... */
/* Hãy rà soát các phần này để đảm bảo chúng hài hòa với Tailwind và có style cho dark mode nếu cần */


/* === DARK MODE STYLES === */
body.dark-mode {
    background-color: #111827; /* Tailwind gray-900 */
    color: #d1d5db; /* Tailwind gray-300 */
}

body.dark-mode .container {
    background-color: #1f2937; /* Tailwind gray-800 */
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.4);
}

body.dark-mode .section {
    background-color: #374151; /* Tailwind gray-700 */
    border-color: #4b5563; /* Tailwind gray-600 */
}

body.dark-mode .section-header {
    color: #f3f4f6; /* Tailwind gray-100 */
    border-bottom-color: #4b5563; /* Tailwind gray-600 */
}

body.dark-mode .section-header svg:not(.toggle-icon) {
    color: #60a5fa !important; /* Tailwind blue-400 */
}
body.dark-mode svg[style*="color: #3b82f6;"] { /* Bắt các SVG có inline style màu blue-500 */
     color: #60a5fa !important; /* Tailwind blue-400 */
}


body.dark-mode .toggle-icon {
    color: #9ca3af; /* Tailwind gray-400 */
}

body.dark-mode label {
    color: #d1d5db; /* Tailwind gray-300 */
}

/* CSS chung cho input/select trong dark mode (nếu không dùng class Tailwind trực tiếp) */
body.dark-mode input[type="text"],
body.dark-mode input[type="datetime-local"],
body.dark-mode input[type="date"],
body.dark-mode select,
body.dark-mode input[type="number"] {
    background-color: #1f2937; /* Tailwind gray-800 */
    color: #f3f4f6;       /* Tailwind gray-100 */
    border-color: #4b5563;   /* Tailwind gray-600 */
}

body.dark-mode input[type="text"]:focus,
body.dark-mode input[type="datetime-local"]:focus,
body.dark-mode input[type="date"]:focus,
body.dark-mode select:focus,
body.dark-mode input[type="number"]:focus {
    border-color: #60a5fa; /* Tailwind blue-400 */
    box-shadow: 0 0 0 2px rgba(96, 165, 250, 0.3);
}

body.dark-mode input::placeholder { color: #6b7280; /* Tailwind gray-500 */ }
body.dark-mode input:-ms-input-placeholder { color: #6b7280; }
body.dark-mode input::-ms-input-placeholder { color: #6b7280; }


body.dark-mode th {
    background-color: #374151; /* Tailwind gray-700 */
    color: #f3f4f6; /* Tailwind gray-100 */
}
body.dark-mode td, body.dark-mode th {
    border-color: #4b5563; /* Tailwind gray-600 */
}

/* ... (Cập nhật các style dark mode khác của bạn cho .summary-item, .account-balance-list, text-colors, buttons, etc.) ... */
/* Ví dụ cho text colors đã có sẵn: */
body.dark-mode .text-gray-600 { color: #9ca3af !important; } /* gray-400 */
body.dark-mode .text-gray-500 { color: #6b7280 !important; } /* gray-500 */
body.dark-mode .text-green-600 { color: #34d399 !important; } /* green-400 */
body.dark-mode .text-red-600 { color: #f87171 !important; }   /* red-400 */
body.dark-mode .text-blue-600 { color: #60a5fa !important; }  /* blue-400 */

body.dark-mode .btn-primary { background-color: #2b6cb0; /* blue-700 */ }
body.dark-mode .btn-primary:hover { background-color: #2c5282; /* blue-800 */ }
body.dark-mode .btn-secondary { background-color: #4a5563; /* gray-600 */ }
body.dark-mode .btn-secondary:hover { background-color: #2d3748; /* gray-700 */ }


/* ===== Bắt đầu CSS cho Bàn phím số ảo ===== */
#virtualNumericKeyboard {
    padding: 8px; /* Khoảng cách từ viền bàn phím đến các nút */
    /* Các class Tailwind 'fixed bottom-0 left-0 right-0 bg-gray-200 dark:bg-gray-800 p-2 shadow-lg z-50' 
       trong HTML đã xử lý vị trí, nền và shadow. 
       Màu nền ở đây sẽ ghi đè Tailwind nếu bạn muốn màu khác với gray-200/gray-800 */
    background-color: #E9EAED; /* Màu xám rất nhạt cho light mode (giống iOS) */
}

.dark #virtualNumericKeyboard {
    background-color: #2C2C2E; /* Màu xám tối cho dark mode (giống iOS) */
}

#virtualNumericKeyboard .grid { 
    gap: 6px; /* Khoảng cách giữa các phím, tương đương gap-1.5 của Tailwind */
}

.virtual-key {
    padding-top: 14px;
    padding-bottom: 14px;
    padding-left: 10px;
    padding-right: 10px;
    font-size: 22px;
    font-weight: 400; /* Font weight normal hơn */
    text-align: center;
    border: none; 
    background-color: #FFFFFF; /* Nền trắng cho phím số - Light Mode */
    color: #000000;          /* Chữ đen - Light Mode */
    border-radius: 6px;
    cursor: pointer;
    user-select: none;
    transition: background-color 0.1s ease-in-out, box-shadow 0.1s ease-in-out;
    box-shadow: 0 1px 0px 0px rgba(0,0,0,0.2); /* Shadow nhẹ dưới phím */
    height: 100%; 
    display: flex;
    align-items: center;
    justify-content: center;
    width: 100%;
}

.virtual-key:active {
    background-color: #CDCDD2; /* Màu khi nhấn - Light Mode */
}

/* Dark Mode Styles cho .virtual-key (phím số) */
.dark .virtual-key {
    background-color: #555558;
    color: #FFFFFF;
    box-shadow: 0 1px 0px 0px rgba(0,0,0,0.5);
}

.dark .virtual-key:active {
    background-color: #67676A;
}

/* Phím chức năng (Xóa, 000, .) */
.virtual-key.key-action {
    background-color: #B0B4BC; /* Light mode */
    color: #000000;
}
.dark .virtual-key.key-action {
    background-color: #3A3A3C; /* Dark mode */
    color: #FFFFFF;
}
.virtual-key.key-action:active {
    background-color: #8E939C; /* Light mode active */
}
.dark .virtual-key.key-action:active {
    background-color: #505054; /* Dark mode active */
}

/* Phím "Tiếp" (Done) */
.virtual-key.key-done {
    background-color: #007AFF; /* Màu xanh iOS - Light mode */
    color: white;
    font-weight: 500;
}
.dark .virtual-key.key-done {
    background-color: #0A84FF; /* Màu xanh iOS sáng hơn cho dark mode */
}
.virtual-key.key-done:active {
    background-color: #0056B3; /* Darker blue on active */
}
.dark .virtual-key.key-done:active {
    background-color: #0060C0; /* Darker blue on active for dark mode */
}
/* ===== Kết thúc CSS cho Bàn phím số ảo ===== */
